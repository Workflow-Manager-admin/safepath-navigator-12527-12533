{"is_source_file": true, "format": "JavaScript (ES6+), React JSX", "description": "This file defines a React context provider component 'MapProvider' that manages map-related state, routing, safety metrics, and place details within a mapping application. It includes logic for route calculation with safety scoring based on crime data, as well as handling place selection and search results.", "external_files": ["../utils/safetyUtils", "../services/fbiCrimeDataService"], "external_methods": ["calculateSafetyScore", "getCrimeStatsByCoordinates"], "published": ["useMapContext", "MapProvider"], "classes": [], "methods": [{"name": "MapProvider", "description": "React component providing map state and functionality, including route calculation with safety scoring, place details management, and search handling."}, {"name": "useMapContext", "description": "Custom hook to access the MapContext values and functions."}], "calls": ["React.createContext", "useState", "useContext", "useEffect", "useCallback", "calculateSafetyScore", "getCrimeStatsByCoordinates", "window.google.maps.places.PlacesService", "window.google.maps.DirectionsService", "window.google.maps.TravelMode"], "search-terms": ["MapProvider", "calculateSafetyScore", "Crime Data", "route calculation", "safety heatmap", "place details", "places service", "routing with safety metrics"], "state": 2, "file_id": 19, "knowledge_revision": 206, "git_revision": "d86a14ddb73d97c9d028c7afd1099fa3b9558ecb", "revision_history": [{"39": "0a11a294a777a6fdc22d75f65af477255368207b"}, {"90": "af90af4976905912c3611ec7ae18957d73f4ad99"}, {"91": "a291fd486974288e18edd24c9f7020b9e6edacb7"}, {"206": "d86a14ddb73d97c9d028c7afd1099fa3b9558ecb"}], "ctags": [{"_type": "tag", "name": "MapContext", "path": "/home/kavia/workspace/code-generation/safepath-navigator-12527-12533/safe_path_navigator/src/context/MapContext.js", "pattern": "/^const MapContext = createContext();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "MapProvider", "path": "/home/kavia/workspace/code-generation/safepath-navigator-12527-12533/safe_path_navigator/src/context/MapContext.js", "pattern": "/^export const MapProvider = ({ children }) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "children", "path": "/home/kavia/workspace/code-generation/safepath-navigator-12527-12533/safe_path_navigator/src/context/MapContext.js", "pattern": "/^export const MapProvider = ({ children }) => {$/", "language": "JavaScript", "kind": "field", "scope": "MapProvider", "scopeKind": "class"}, {"_type": "tag", "name": "context", "path": "/home/kavia/workspace/code-generation/safepath-navigator-12527-12533/safe_path_navigator/src/context/MapContext.js", "pattern": "/^  const context = useContext(MapContext);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handlePlaceSelect", "path": "/home/kavia/workspace/code-generation/safepath-navigator-12527-12533/safe_path_navigator/src/context/MapContext.js", "pattern": "/^  const handlePlaceSelect = useCallback((place) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleSearchComplete", "path": "/home/kavia/workspace/code-generation/safepath-navigator-12527-12533/safe_path_navigator/src/context/MapContext.js", "pattern": "/^  const handleSearchComplete = useCallback((results) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "map", "path": "/home/kavia/workspace/code-generation/safepath-navigator-12527-12533/safe_path_navigator/src/context/MapContext.js", "pattern": "/^    map,$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "resetState", "path": "/home/kavia/workspace/code-generation/safepath-navigator-12527-12533/safe_path_navigator/src/context/MapContext.js", "pattern": "/^  const resetState = useCallback(() => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setDestination", "path": "/home/kavia/workspace/code-generation/safepath-navigator-12527-12533/safe_path_navigator/src/context/MapContext.js", "pattern": "/^  const [destination, setDestination] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setError", "path": "/home/kavia/workspace/code-generation/safepath-navigator-12527-12533/safe_path_navigator/src/context/MapContext.js", "pattern": "/^  const [error, setError] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setIsLoading", "path": "/home/kavia/workspace/code-generation/safepath-navigator-12527-12533/safe_path_navigator/src/context/MapContext.js", "pattern": "/^  const [isLoading, setIsLoading] = useState(false);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setLocationAsOriginOrDestination", "path": "/home/kavia/workspace/code-generation/safepath-navigator-12527-12533/safe_path_navigator/src/context/MapContext.js", "pattern": "/^  const setLocationAsOriginOrDestination = useCallback((location, type) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setMap", "path": "/home/kavia/workspace/code-generation/safepath-navigator-12527-12533/safe_path_navigator/src/context/MapContext.js", "pattern": "/^  const [map, setMap] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setOrigin", "path": "/home/kavia/workspace/code-generation/safepath-navigator-12527-12533/safe_path_navigator/src/context/MapContext.js", "pattern": "/^  const [origin, setOrigin] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setPlaceDetails", "path": "/home/kavia/workspace/code-generation/safepath-navigator-12527-12533/safe_path_navigator/src/context/MapContext.js", "pattern": "/^  const [placeDetails, setPlaceDetails] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setPlacesService", "path": "/home/kavia/workspace/code-generation/safepath-navigator-12527-12533/safe_path_navigator/src/context/MapContext.js", "pattern": "/^  const [placesService, setPlacesService] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setRoutes", "path": "/home/kavia/workspace/code-generation/safepath-navigator-12527-12533/safe_path_navigator/src/context/MapContext.js", "pattern": "/^  const [routes, setRoutes] = useState([]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setSearchResults", "path": "/home/kavia/workspace/code-generation/safepath-navigator-12527-12533/safe_path_navigator/src/context/MapContext.js", "pattern": "/^  const [searchResults, setSearchResults] = useState([]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setSelectedPlace", "path": "/home/kavia/workspace/code-generation/safepath-navigator-12527-12533/safe_path_navigator/src/context/MapContext.js", "pattern": "/^  const [selectedPlace, setSelectedPlace] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setSelectedRoute", "path": "/home/kavia/workspace/code-generation/safepath-navigator-12527-12533/safe_path_navigator/src/context/MapContext.js", "pattern": "/^  const [selectedRoute, setSelectedRoute] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setShowSafetyHeatmap", "path": "/home/kavia/workspace/code-generation/safepath-navigator-12527-12533/safe_path_navigator/src/context/MapContext.js", "pattern": "/^  const [showSafetyHeatmap, setShowSafetyHeatmap] = useState(false);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setShowSafetyMarkers", "path": "/home/kavia/workspace/code-generation/safepath-navigator-12527-12533/safe_path_navigator/src/context/MapContext.js", "pattern": "/^  const [showSafetyMarkers, setShowSafetyMarkers] = useState(true);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setTravelMode", "path": "/home/kavia/workspace/code-generation/safepath-navigator-12527-12533/safe_path_navigator/src/context/MapContext.js", "pattern": "/^  const [travelMode, setTravelMode] = useState('WALKING');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "useMapContext", "path": "/home/kavia/workspace/code-generation/safepath-navigator-12527-12533/safe_path_navigator/src/context/MapContext.js", "pattern": "/^export const useMapContext = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "value", "path": "/home/kavia/workspace/code-generation/safepath-navigator-12527-12533/safe_path_navigator/src/context/MapContext.js", "pattern": "/^  const value = {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "value", "path": "/home/kavia/workspace/code-generation/safepath-navigator-12527-12533/safe_path_navigator/src/context/MapContext.js", "pattern": "/^  return <MapContext.Provider value={value}>{children}<\\/MapContext.Provider>;$/", "language": "JavaScript", "kind": "field", "scope": "Provider", "scopeKind": "class"}], "filename": "/home/kavia/workspace/code-generation/safepath-navigator-12527-12533/safe_path_navigator/src/context/MapContext.js", "hash": "c2fb340e916415905e5ecb17c5e3ac84", "format-version": 4, "code-base-name": "default", "fields": [{"name": "export const MapProvider = ({ children }) => {", "scope": "MapProvider", "scopeKind": "class", "description": "unavailable"}, {"name": "map,", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "return <MapContext.Provider value={value}>{children}<\\/MapContext.Provider>;", "scope": "Provider", "scopeKind": "class", "description": "unavailable"}]}