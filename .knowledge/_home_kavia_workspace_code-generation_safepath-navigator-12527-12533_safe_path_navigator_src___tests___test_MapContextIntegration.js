{"is_source_file": true, "format": "JavaScript (React / Jest)", "description": "Test suite for integration of FBI crime data with MapContext, including mocking data/services, verifying API calls, and testing context updates.", "external_files": ["../context/MapContext", "../services/fbiCrimeDataService", "../utils/safetyUtils", "./test_utils"], "external_methods": ["fbiCrimeDataService.getCrimeStatsByCoordinates", "safetyUtils.generateMockRoutes", "safetyUtils.calculateSafetyScore"], "published": [], "classes": [], "methods": [{"name": "TestConsumer", "description": "React component that consumes MapContext to display loading state, route count, and safety score of the selected route."}, {"name": "beforeEach", "description": "Sets up mocks and timer configurations before each test."}, {"name": "afterEach", "description": "Restores original implementations and timers after each test."}, {"name": "test", "description": "Various tests verifying data fetching, error handling, and safety score recalculation logic."}], "calls": ["fbiCrimeDataService.getCrimeStatsByCoordinates", "safetyUtils.generateMockRoutes", "safetyUtils.calculateSafetyScore", "setOriginLocation", "setDestinationLocation", "useMapContext", "render", "jest.useFakeTimers", "jest.advanceTimersByTime", "waitFor", "expect", "act"], "search-terms": ["MapContext", "crime data", "FBI", "safety score", "integration tests", "react context", "jest timers"], "state": 2, "file_id": 39, "knowledge_revision": 107, "git_revision": "5bd98e8ba6bf7cd006c8424eaea4777b62e2b92d", "ctags": [{"_type": "tag", "name": "TestConsumer", "path": "/home/kavia/workspace/code-generation/safepath-navigator-12527-12533/safe_path_navigator/src/__tests__/test_MapContextIntegration.js", "pattern": "/^const TestConsumer = () => {$/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/code-generation/safepath-navigator-12527-12533/safe_path_navigator/src/__tests__/test_MapContextIntegration.js", "hash": "c6a8f0a90e777a547c6d7dde4f7545b2", "format-version": 4, "code-base-name": "default", "revision_history": [{"107": "5bd98e8ba6bf7cd006c8424eaea4777b62e2b92d"}]}